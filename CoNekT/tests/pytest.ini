[pytest]
# Diretórios de teste
testpaths = CoNekT/tests

# Padrão de descoberta de arquivos de teste
python_files = test_*.py *_test.py

# Padrão de descoberta de classes de teste
python_classes = Test* *Test

# Padrão de descoberta de funções de teste
python_functions = test_*

# Marcadores personalizados
markers =
    unit: Testes unitários rápidos
    integration: Testes de integração entre componentes
    slow: Testes lentos que demoram mais tempo
    db: Testes que requerem acesso ao banco de dados
    admin: Testes de funcionalidades administrativas
    website: Testes de rotas e views do website
    blast: Testes relacionados ao BLAST (requerem configuração)
    login_required: Testes que requerem login habilitado
    te: Testes relacionados a Transposable Elements (TEs)
    tedistill: Testes relacionados a TEdistills
    te_class: Testes relacionados a TEClasses
    expression: Testes de expressão gênica
    network: Testes de redes de coexpressão
    families: Testes de famílias gênicas
    ontology: Testes de ontologias (GO, InterPro, etc)
    phylogeny: Testes de árvores filogenéticas e clades

# Opções de linha de comando padrão
addopts =
    --verbose
    --strict-markers
    --tb=short
    --disable-warnings
    -ra
    --cov=CoNekT/conekt
    --cov-report=term-missing
    --cov-report=html
    --cov-report=xml
    --cov-branch

# Arquivos/diretórios a ignorar
norecursedirs = 
    .git
    .tox
    dist
    build
    *.egg
    __pycache__
    CoNekT/bin
    CoNekT/lib
    CoNekT/migrations
    CoNekT/docs

# Configurações de cobertura
[coverage:run]
source = CoNekT/conekt
omit = 
    */tests/*
    */migrations/*
    */bin/*
    */lib/*
    */docs/*
    */__pycache__/*
    */venv/*

[coverage:report]
precision = 2
show_missing = True
skip_covered = False

[coverage:html]
directory = htmlcov
